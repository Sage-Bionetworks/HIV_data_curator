{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/HIV ScRNA-seqAssay",
  "title": "HIV ScRNA-seqAssay",
  "type": "object",
  "properties": {
    "File Format": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "Nucleic Acid Source": {
      "enum": [
        "Bulk Whole Cell",
        "Single Cell",
        "Single Nucleus",
        "Bulk Nuclei"
      ]
    },
    "HTAN Parent Biospecimen ID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "Sequencing Platform": {
      "enum": [
        "Ion Torrent S5",
        "Ion Torrent Proton",
        "Illumina Genome Analyzer IIx",
        "Illumina HiSeq X Five",
        "AB SOLiD 3",
        "Illumina NovaSeq 6000",
        "Illumina HiSeq X Ten",
        "Illumina HiSeq 4000",
        "Illumina Next Seq 500",
        "Complete Genomics",
        "454 GS FLX Titanium",
        "Illumina Genome Analyzer II",
        "Illumina Next Seq 2500",
        "Not Reported",
        "Illumina MiSeq",
        "Ion Torrent PGM",
        "AB SOLiD 4 AB SOLiD 2",
        "Illumina HiSeq 2000",
        "Other",
        "PacBio RS",
        "Illumina NextSeq",
        "Unknown",
        "Illumina HiSeq 2500"
      ]
    },
    "Input Cells and Nuclei": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "End Bias": {
      "enum": [
        "3 Prime",
        "5 Prime",
        "Full Length Transcript"
      ]
    },
    "Library Preparation Date": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "HTAN Data File ID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "Read2": {
      "enum": [
        "Cell Barcode and UMI",
        "cDNA"
      ]
    },
    "Single Cell Dissociation Date": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "Total Number of Input Cells": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "Nucleic Acid Capture Date": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "Reverse Transcription Primer": {
      "enum": [
        "Random",
        "Poly-dT",
        "Feature barcoding",
        "Oligo-dT"
      ]
    },
    "Read1": {
      "enum": [
        "Cell Barcode and UMI",
        "cDNA"
      ]
    },
    "Technical Replicate Group": {},
    "Library Construction Method": {
      "enum": [
        "Drop-seq",
        "CEL-seq2",
        "10xV2",
        "10xV1",
        "10xV3.1",
        "Smart-seq2",
        "Smart-SeqV4",
        "inDropsV3",
        "10xV3",
        "inDropsV2",
        "TruDrop"
      ]
    },
    "Protocol Link": {},
    "Dissociation Method": {
      "enum": [
        "gentleMACS"
      ]
    },
    "Single Cell Isolation Method": {
      "enum": [
        "FACS",
        "Droplets",
        "Microfluidics Chip"
      ]
    },
    "Spike In": {
      "enum": [
        "ERCC",
        "No Spike In",
        "PhiX",
        "Other Spike In"
      ]
    },
    "Sequencing Library Construction Date": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "Filename": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "Cryopreserved Cells in Sample": {
      "enum": [
        "Yes",
        "No"
      ]
    },
    "UMI Barcode Offset": {},
    "Cell Barcode Length": {},
    "Median UMIs per Cell Number": {},
    "UMI Barcode Length": {},
    "Cell Barcode Offset": {},
    "Valid Barcodes Cell Number": {},
    "cDNA Length": {},
    "cDNA Offset": {},
    "Feature Reference Id": {},
    "Empty Well Barcode": {},
    "Well Index": {},
    "Spike In Concentration": {}
  },
  "required": [
    "File Format",
    "Nucleic Acid Source",
    "HTAN Parent Biospecimen ID",
    "Sequencing Platform",
    "Input Cells and Nuclei",
    "Component",
    "End Bias",
    "Library Preparation Date",
    "HTAN Data File ID",
    "Read2",
    "Single Cell Dissociation Date",
    "Total Number of Input Cells",
    "Nucleic Acid Capture Date",
    "Reverse Transcription Primer",
    "Read1",
    "Library Construction Method",
    "Dissociation Method",
    "Single Cell Isolation Method",
    "Spike In",
    "Sequencing Library Construction Date",
    "Filename",
    "Cryopreserved Cells in Sample"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "UMI Barcode Offset": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "UMI Barcode Offset"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "UMI Barcode Offset": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "UMI Barcode Offset"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "UMI Barcode Offset": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "UMI Barcode Offset"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "UMI Barcode Offset": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "UMI Barcode Offset"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "Cell Barcode Length": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "Cell Barcode Length"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "Cell Barcode Length": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "Cell Barcode Length"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "Cell Barcode Length": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "Cell Barcode Length"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "Cell Barcode Length": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "Cell Barcode Length"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "Median UMIs per Cell Number": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "Median UMIs per Cell Number"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "Median UMIs per Cell Number": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "Median UMIs per Cell Number"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "Median UMIs per Cell Number": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "Median UMIs per Cell Number"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "Median UMIs per Cell Number": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "Median UMIs per Cell Number"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "UMI Barcode Length": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "UMI Barcode Length"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "UMI Barcode Length": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "UMI Barcode Length"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "UMI Barcode Length": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "UMI Barcode Length"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "UMI Barcode Length": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "UMI Barcode Length"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "Cell Barcode Offset": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "Cell Barcode Offset"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "Cell Barcode Offset": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "Cell Barcode Offset"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "Cell Barcode Offset": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "Cell Barcode Offset"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "Cell Barcode Offset": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "Cell Barcode Offset"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "Valid Barcodes Cell Number": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "Valid Barcodes Cell Number"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "Valid Barcodes Cell Number": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "Valid Barcodes Cell Number"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "Valid Barcodes Cell Number": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "Valid Barcodes Cell Number"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "Cell Barcode and UMI"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "Valid Barcodes Cell Number": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "Valid Barcodes Cell Number"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "cDNA"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "cDNA Length": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "cDNA Length"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "cDNA"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "cDNA Length": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "cDNA Length"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "cDNA"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "cDNA Length": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "cDNA Length"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "cDNA"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "cDNA Length": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "cDNA Length"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "cDNA"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "cDNA Offset": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "cDNA Offset"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "cDNA"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "cDNA Offset": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "cDNA Offset"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "cDNA"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "cDNA Offset": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "cDNA Offset"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Read1": {
            "enum": [
              "cDNA"
            ]
          }
        },
        "required": [
          "Read1"
        ]
      },
      "then": {
        "properties": {
          "cDNA Offset": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "cDNA Offset"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Reverse Transcription Primer": {
            "enum": [
              "Feature barcoding"
            ]
          }
        },
        "required": [
          "Reverse Transcription Primer"
        ]
      },
      "then": {
        "properties": {
          "Feature Reference Id": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "Feature Reference Id"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Library Construction Method": {
            "enum": [
              "CEL-seq2"
            ]
          }
        },
        "required": [
          "Library Construction Method"
        ]
      },
      "then": {
        "properties": {
          "Empty Well Barcode": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "Empty Well Barcode"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Library Construction Method": {
            "enum": [
              "CEL-seq2"
            ]
          }
        },
        "required": [
          "Library Construction Method"
        ]
      },
      "then": {
        "properties": {
          "Well Index": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "Well Index"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "Spike In": {
            "enum": [
              "ERCC"
            ]
          }
        },
        "required": [
          "Spike In"
        ]
      },
      "then": {
        "properties": {
          "Spike In Concentration": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "Spike In Concentration"
        ]
      }
    }
  ]
}